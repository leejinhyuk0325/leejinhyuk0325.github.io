(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,18566,(e,r,s)=>{r.exports=e.r(76562)},18512,e=>{"use strict";var r=e.i(43476),s=e.i(71645),t=e.i(18566),a=e.i(39321);function i(){let e=(0,t.useRouter)();return(0,s.useEffect)(()=>{(async()=>{try{let{data:r,error:s}=await a.supabase.auth.getSession();if(s){console.error("인증 오류:",s),e.push("/login?error=auth_failed");return}if(r.session){let s=r.session.user,t=new Date(s.created_at),i=new Date(Date.now()-36e5),o=s.email_confirmed_at&&new Date(s.email_confirmed_at)>new Date(Date.now()-3e5);if(t>i&&o){let{data:r,error:t}=await a.supabase.from("users").select("instagram_id").eq("id",s.id).single();if(t&&"PGRST116"!==t.code&&console.error("프로필 확인 오류:",t),!r||!r.instagram_id)return void e.push("/complete-profile")}e.push("/mypage"),e.refresh()}else e.push("/login?error=no_session")}catch(r){console.error("콜백 처리 오류:",r),e.push("/login?error=callback_failed")}})()},[e]),(0,r.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),(0,r.jsx)("p",{className:"text-gray-600",children:"로그인 처리 중..."})]})})}e.s(["default",()=>i])}]);