(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,22974,e=>{"use strict";var s=e.i(43476),t=e.i(71645),a=e.i(18566),l=e.i(78933),r=e.i(40238),c=e.i(3766),n=e.i(52750);function i(){let e=(0,a.useRouter)(),i=(0,a.useSearchParams)(),x=i.get("tag")||"",d=i.get("q")||"",o=x?`#${x}`:d,[m,h]=(0,t.useState)(o),[u,p]=(0,t.useState)([]),[g,j]=(0,t.useState)(!1);return(0,t.useEffect)(()=>{(async()=>{if(!m.trim())return p([]);j(!0);try{let e=await (0,n.searchPosts)(m);p(e)}catch(e){console.error("검색 오류:",e),p([])}finally{j(!1)}})()},[m]),(0,s.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,s.jsx)(l.default,{}),(0,s.jsxs)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"검색"}),(0,s.jsx)("form",{onSubmit:s=>{if(s.preventDefault(),m.trim())if(m.startsWith("#")){let s=m.substring(1);e.replace(`/search?tag=${encodeURIComponent(s)}`,{scroll:!1})}else e.replace(`/search?q=${encodeURIComponent(m)}`,{scroll:!1})},className:"max-w-2xl",children:(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("input",{type:"text",value:m,onChange:s=>{let t=s.target.value;if(h(t),t.startsWith("#")){let s=t.substring(1);s?e.replace(`/search?tag=${encodeURIComponent(s)}`,{scroll:!1}):e.replace("/search",{scroll:!1})}else t?e.replace(`/search?q=${encodeURIComponent(t)}`,{scroll:!1}):e.replace("/search",{scroll:!1})},placeholder:"검색어를 입력하세요...",className:"flex-1 px-3 py-1.5 text-xs border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",autoFocus:!0}),(0,s.jsx)("button",{type:"submit",className:"px-3 py-1.5 text-xs bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"검색"})]})})]}),m.trim()?(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:x?(0,s.jsxs)(s.Fragment,{children:['태그 검색 결과: "',m,'"']}):(0,s.jsxs)(s.Fragment,{children:['검색 결과: "',m,'"']})}),(0,s.jsx)("p",{className:"text-xs text-gray-600 mt-1",children:g?"검색 중...":`${u.length}개의 결과를 찾았습니다.`})]}),g?(0,s.jsx)("div",{className:"text-center py-12",children:(0,s.jsx)("p",{className:"text-xs text-gray-500",children:"검색 중..."})}):u.length>0?(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:u.map(e=>(0,s.jsx)(c.default,{post:e,variant:"default"},e.id))}):(0,s.jsx)("div",{className:"text-center py-12",children:(0,s.jsx)("p",{className:"text-xs text-gray-500",children:"검색 결과가 없습니다. 다른 검색어를 시도해보세요."})})]}):(0,s.jsx)("div",{className:"text-center py-12",children:(0,s.jsx)("p",{className:"text-xs text-gray-500",children:"검색어를 입력하여 원하는 콘텐츠를 찾아보세요."})})]}),(0,s.jsx)(r.default,{})]})}function x(){return(0,s.jsx)(t.Suspense,{fallback:(0,s.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,s.jsx)(l.default,{}),(0,s.jsx)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:(0,s.jsx)("div",{className:"text-center py-12",children:(0,s.jsx)("p",{className:"text-xs text-gray-500",children:"로딩 중..."})})}),(0,s.jsx)(r.default,{})]}),children:(0,s.jsx)(i,{})})}e.s(["default",()=>x])}]);