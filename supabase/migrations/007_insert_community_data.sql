-- 커뮤니티 카테고리 데이터 삽입
INSERT INTO public.community_categories (id, name) VALUES
('all', '전체'),
('free', '자유게시판'),
('review', '작품 리뷰'),
('recommend', '작품 추천'),
('question', '질문하기')
ON CONFLICT (id) DO UPDATE SET name = EXCLUDED.name;

-- 커뮤니티 게시글 데이터 삽입
INSERT INTO public.community_posts (id, category_id, title, author, content, views, likes, comments, is_hot, created_at) VALUES
(1, 'free', '너의 췌장을 먹고싶어 정말 재밌네요!', '독서왕', '최근에 읽은 소설 중에서 정말 인상 깊었던 작품이에요. 좀비 아포칼립스라는 무거운 소재를 다루면서도 로맨스 요소가 잘 어우러져서 읽는 내내 몰입도가 높았습니다. 

특히 주인공들의 감정 변화가 섬세하게 그려져 있어서 공감이 많이 되었어요. 마지막 장면은 정말 감동적이었습니다. 

다른 분들도 한번 읽어보시면 좋을 것 같아요!', 234, 18, 5, true, '2024-01-15'::timestamp),
(2, 'review', '부드러운 밤 후기 - 요리 소설의 새로운 지평', '요리사', '요리 소설이라고 하면 보통 레시피 위주로 나오는데, 이 작품은 정말 다른 느낌이에요. 요리를 통해 인생을 바라보는 시각이 새롭고, 각 장마다 등장하는 요리들이 이야기와 완벽하게 어우러져 있습니다.

주인공의 성장 스토리도 인상적이었고, 특히 미슐랭 스타 쉐프가 되기까지의 과정이 현실적으로 그려져 있어서 더 몰입할 수 있었습니다. 

요리 좋아하시는 분들께 강력 추천드려요!', 189, 25, 8, false, '2024-01-14'::timestamp),
(3, 'recommend', '판타지 좋아하시는 분들 꼭 보세요! 아침엔 새, 밤엔 나무', '판타지러버', '판타지 장르를 좋아하시는 분들께 정말 추천하고 싶은 작품입니다! 

주인공이 아침에는 새로 변신하고 밤에는 나무가 되는 설정이 독특하면서도 흥미롭게 전개됩니다. 판타지 세계관이 잘 구축되어 있고, 모험 요소도 충분해서 읽는 재미가 있습니다.

특히 아침과 밤이 바뀌는 장면들의 묘사가 정말 아름다워요. 판타지 좋아하시는 분들이라면 분명 좋아하실 작품입니다!', 312, 42, 12, true, '2024-01-13'::timestamp),
(4, 'question', 'TASTE 신청은 어떻게 하나요?', '초보자', '안녕하세요! 처음 이용하는 초보자입니다. 

작품 상세 페이지에서 TASTE 신청하기 버튼을 봤는데, 어떻게 신청하는지 모르겠어요. 신청 절차와 필요한 조건이 무엇인지 알려주시면 감사하겠습니다.

또한 신청 후 공유 조건을 달성하면 어떻게 되는지도 궁금합니다. 도와주세요!', 156, 8, 3, false, '2024-01-12'::timestamp),
(5, 'free', '좀비 소설 추천 받습니다!', '좀비매니아', '좀비 소설을 정말 좋아하는데, 최근에 읽을 만한 작품이 없어서 고민이에요. 

좀비 아포칼립스 장르나 좀비가 나오는 스릴러, 호러 장르 모두 좋아합니다. 특히 생존 이야기나 좀비와의 전투가 나오는 작품을 선호해요.

다른 분들께서 추천해주시면 정말 감사하겠습니다! 좋은 작품 많이 추천 부탁드려요.', 278, 31, 15, true, '2024-01-11'::timestamp),
(6, 'review', '사마귀 인간 - 독특한 컨셉의 스릴러', '리뷰어', '사마귀처럼 변신하는 능력을 가진 주인공의 이야기인데, 정말 독특한 컨셉이에요. 

스릴러 장르답게 긴장감이 계속 유지되고, 주인공의 앞발이 치명적인 무기가 되는 설정이 신선했습니다. 퍼리 컨셉의 작품을 찾고 계셨다면 이 작품을 추천드려요.

다만 일부 장면이 잔인할 수 있으니 참고하시기 바랍니다. 전반적으로는 재미있게 읽었습니다!', 201, 19, 6, false, '2024-01-10'::timestamp),
(7, 'recommend', '경영 소설 좋아하시는 분들 추천드려요', '비즈니스맨', '경영이나 비즈니스 소설을 좋아하시는 분들께 추천하고 싶은 작품들이 있어요.

특히 부동산 경영이나 회사 경영을 다룬 작품들이 재미있었습니다. 현실적인 경영 전략과 성공 스토리가 잘 그려져 있어서 읽는 동안 많은 것을 배울 수 있었어요.

경영 소설을 좋아하시는 분들이라면 분명 흥미로우실 것 같습니다. 함께 읽고 이야기 나누고 싶어요!', 167, 14, 4, false, '2024-01-09'::timestamp),
(8, 'question', '공유는 어떻게 하나요?', '궁금이', '작품을 공유하고 싶은데 방법을 모르겠어요. 

작품 상세 페이지에서 공유 버튼을 찾았는데, 어떻게 사용하는지 궁금합니다. SNS로 공유할 수 있는지, 아니면 링크만 복사하는 건지 알고 싶어요.

공유 횟수는 실시간으로 반영되는지도 궁금합니다. 도와주시면 감사하겠습니다!', 145, 7, 2, false, '2024-01-08'::timestamp)
ON CONFLICT (id) DO UPDATE SET
  category_id = EXCLUDED.category_id,
  title = EXCLUDED.title,
  author = EXCLUDED.author,
  content = EXCLUDED.content,
  views = EXCLUDED.views,
  likes = EXCLUDED.likes,
  comments = EXCLUDED.comments,
  is_hot = EXCLUDED.is_hot,
  created_at = EXCLUDED.created_at;

-- 시퀀스를 최신 ID로 업데이트 (명시적으로 ID를 지정했기 때문에 시퀀스가 업데이트되지 않았을 수 있음)
SELECT setval(
  pg_get_serial_sequence('public.community_posts', 'id'),
  COALESCE((SELECT MAX(id) FROM public.community_posts), 1),
  true
);
